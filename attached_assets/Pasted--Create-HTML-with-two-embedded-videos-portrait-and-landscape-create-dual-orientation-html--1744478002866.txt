
# Create HTML with two embedded videos (portrait and landscape)
create_dual_orientation_html() {
    local portrait_file="$1"
    local landscape_file="$2"
    local html_filename="$3"
    
    echo "Creating ${html_filename} with portrait (${portrait_file}) and landscape (${landscape_file})..."
    
    # Check if files exist
    if [ ! -f "$portrait_file" ]; then
        echo "Error: Portrait file $portrait_file not found!"
        return 1
    fi
    
    if [ ! -f "$landscape_file" ]; then
        echo "Error: Landscape file $landscape_file not found!"
        return 1
    fi
    
    # Get base64 encoded videos
    echo "Encoding portrait video to base64 (this may take a moment)..."
    portrait_base64=$(base64 -i "$portrait_file")
    
    if [ $? -ne 0 ]; then
        echo "Error encoding portrait video to base64!"
        return 1
    fi
    
    echo "Encoding landscape video to base64 (this may take a moment)..."
    landscape_base64=$(base64 -i "$landscape_file")
    
    if [ $? -ne 0 ]; then
        echo "Error encoding landscape video to base64!"
        return 1
    fi
    
    # Create the HTML file with embedded videos and orientation detection
    cat > "$html_filename" << EOL
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="ad.size" content="width=320,height=480">
    <title>Video Ad with Orientation Detection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            touch-action: manipulation;
            background-color: #000;
            position: fixed;
        }
        #videoContainer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        video {
            max-width: 100%;
            max-height: 100%;
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: none; /* Initially hidden until proper orientation detected */
        }
        #portraitVideo {
            display: none;
        }
        #landscapeVideo {
            display: none;